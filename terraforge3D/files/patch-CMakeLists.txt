--- CMakeLists.txt.orig	2024-09-11 16:50:58 UTC
+++ CMakeLists.txt
@@ -11,7 +11,7 @@ endif()
     set(EXECUTABLE_NAME "terraforge3d")
 endif()
 
-set(CMAKE_CXX_STANDARD 20)
+set(CMAKE_CXX_STANDARD 17)
 set(CMAKE_CXX_STANDARD_REUIRED True)
 
 set(CMAKE_C_STANDARD 17)
@@ -21,6 +21,13 @@ find_package(OpenSSL REQUIRED)
 set(OPENSSL_USE_STATIC_LIBS TRUE)
 find_package(OpenSSL REQUIRED)
 
+find_package(PkgConfig REQUIRED)
+pkg_check_modules(WEBP REQUIRED libwebp)
+
+set(WEBP_INCLUDE_DIR "/usr/local/include/webp")
+set(WEBP_LIBRARY_DIR "/usr/local/lib/libwebp.a")
+set(SHARP_LIBRARY_DIR "/usr/local/lib/libsharpyuv.a")
+
 include_directories( 
     ./TerraForge3D/include
     ./TerraForge3D/include/Base
@@ -39,6 +46,7 @@ include_directories( 
     ./TerraForge3D/vendor/stb
     ./TerraForge3D/vendor/libpng
     ${OPENSSL_INCLUDE_DIR}
+    ${WEBP_INCLUDE_DIR}
 )
 
 set( GLFW_BUILD_DOCS OFF CACHE BOOL  "GLFW lib only" )
@@ -47,7 +55,7 @@ add_subdirectory(./TerraForge3D/vendor/imgui-builder)
 add_subdirectory(./TerraForge3D/vendor/glfw)
 add_subdirectory(./TerraForge3D/vendor/glad)
 add_subdirectory(./TerraForge3D/vendor/imgui-builder)
-add_subdirectory(./TerraForge3D/vendor/libwebp)
+#add_subdirectory(./TerraForge3D/vendor/libwebp)
 add_subdirectory(./TerraForge3D/vendor/fmt)
 
 if( MSVC )
@@ -70,8 +78,13 @@ target_link_libraries(${EXECUTABLE_NAME} 
     ${OPENGL_LIBRARIES}
     Glad
     ImGui
+    ${WEBP_LIBRARY_DIR}
+    ${SHARP_LIBRARY_DIR}
 )
 
+message(STATUS "aseprite libwebp: ${WEBP_LIBRARIES}")
+
+
 if(WIN32)
     target_compile_definitions(${EXECUTABLE_NAME} 
         PUBLIC _CRT_SECURE_NO_WARNINGS
@@ -86,7 +99,6 @@ target_link_libraries(${EXECUTABLE_NAME} fmt::fmt)
 target_link_libraries(${EXECUTABLE_NAME} OpenSSL::SSL)
 target_link_libraries(${EXECUTABLE_NAME} OpenSSL::Crypto)
 target_link_libraries(${EXECUTABLE_NAME} fmt::fmt)
-target_link_libraries(${EXECUTABLE_NAME} webp)
 
 if (CMAKE_CXX_COMPILER_VERSION VERSION_GREATER_EQUAL 19.12.25835)
     set(CMAKE_CXX20_STANDARD_COMPILE_OPTION "-std:c++latest")
