--- externals/CMakeLists.txt.orig	2025-03-22 22:14:04 UTC
+++ externals/CMakeLists.txt
@@ -42,8 +42,8 @@ if (NOT TARGET FFmpeg::ffmpeg)
 endif()
 
 if (NOT TARGET FFmpeg::ffmpeg)
-    add_subdirectory(ffmpeg-core)
-    add_library(FFmpeg::ffmpeg ALIAS ffmpeg)
+#    add_subdirectory(ffmpeg-core)
+#    add_library(FFmpeg::ffmpeg ALIAS ffmpeg)
 endif()
 
 # LibAtrac9
@@ -193,22 +193,22 @@ target_include_directories(Dear_ImGui INTERFACE dear_i
 target_include_directories(Dear_ImGui INTERFACE dear_imgui/)
 
 # Tracy
-if (CMAKE_BUILD_TYPE STREQUAL "Release")
-    option(TRACY_ENABLE "" OFF)
-else()
-    option(TRACY_ENABLE "" ON)
-endif()
-option(TRACY_NO_CRASH_HANDLER "" ON) # Otherwise texture cache exceptions will be treaten as a crash
-option(TRACY_ON_DEMAND "" ON)
-option(TRACY_NO_FRAME_IMAGE "" ON)
-option(TRACY_FIBERS "" OFF) # For AmdGpu frontend profiling, disabled due to instability
-option(TRACY_NO_SYSTEM_TRACING "" ON)
-option(TRACY_NO_CALLSTACK "" ON)
-option(TRACY_NO_CODE_TRANSFER "" ON)
-option(TRACY_NO_SAMPLING "" ON)
-option(TRACY_ONLY_LOCALHOST "" ON)
-option(TRACY_NO_CONTEXT_SWITCH "" ON)
-add_subdirectory(tracy)
+#if (CMAKE_BUILD_TYPE STREQUAL "Release")
+#    option(TRACY_ENABLE "" OFF)
+#else()
+#    option(TRACY_ENABLE "" ON)
+#endif()
+#option(TRACY_NO_CRASH_HANDLER "" ON) # Otherwise texture cache exceptions will be treaten as a crash
+#option(TRACY_ON_DEMAND "" ON)
+#option(TRACY_NO_FRAME_IMAGE "" ON)
+#option(TRACY_FIBERS "" OFF) # For AmdGpu frontend profiling, disabled due to instability
+#option(TRACY_NO_SYSTEM_TRACING "" ON)
+#option(TRACY_NO_CALLSTACK "" ON)
+#option(TRACY_NO_CODE_TRANSFER "" ON)
+#option(TRACY_NO_SAMPLING "" ON)
+#option(TRACY_ONLY_LOCALHOST "" ON)
+#option(TRACY_NO_CONTEXT_SWITCH "" ON)
+#add_subdirectory(tracy)
 
 # pugixml
 if (NOT TARGET pugixml::pugixml)
@@ -231,14 +231,15 @@ endif()
 endif()
 
 # Apple-only dependencies
-if (APPLE)
+if (CMAKE_SYSTEM_NAME STREQUAL "FreeBSD")
     # date
     if (NOT TARGET date::date-tz)
         option(BUILD_TZ_LIB "" ON)
         option(USE_SYSTEM_TZ_DB "" ON)
         add_subdirectory(date)
     endif()
-
+endif()
+if(APPLE)
     # MoltenVK
     if (NOT TARGET MoltenVK)
         add_subdirectory(MoltenVK)
